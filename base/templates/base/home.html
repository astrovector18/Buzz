{% extends 'main.html'%}

{% block content%} 

 {% for post in posts %} 
    <div class="posts-feed">
        <!-- Post 1 -->
        <div class="post">
          <div class="post-header">
                <div class="author-info">
                    <img src="{{ post.author.profile.image.url }}" alt="Author Avatar" class="author-avatar">
                    <h2 class="author-name">
             <a href="{% url 'profile' post.author.username %}">@{{ post.author.username }}</a></h2>
                </div>
                <p class="post-time">{{post.created|timesince}}</p> <!-- Add time here -->
            </div>
            <h2 class="post-title"> {{ post.title }}</h2>
            <p class="post-body">{{ post }}</p>
            <div class="post-actions">
               <a href="{% url 'post' post.id %}"><button class="view-button">View</button></a> 
             {% if request.user == post.author%} 
             <a href="{% url 'update-post' post.id %}" ><button class="edit-button">Edit</button></a>
              <a  href ="{% url 'delete-post' post.id%}"><button class="delete-button">Delete</button></a> 
              {% endif %}
            </div>
        </div>

   

        <!-- Add more posts as needed -->
    </div>
    
  {% endfor %}
  
<!--  <script type="text/javascript" charset="utf-8">
    var postContainer = document.querySelector('.post-cnt')
    
    postContainer.addEventListener('click',()=>{
      //alert('click')
      console.log("Clicked !")
    })
  </scripts-->
{% endblock content %}